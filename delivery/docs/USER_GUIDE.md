# Maestro Web MIDI - 用户使用手册

欢迎使用 Maestro！这是一个支持 WiFi MIDI、手势控制（指挥模式）的高精度 MIDI 播放与演示系统。

## 1. 快速启动 (Quick Start)

### A. 准备工作

1. **网络连接**: 确保您的 Windows 电脑和 Android 手机连接在**同一个 WiFi** 网络下。
2. **安装应用**: 将 `delivery/Maestro-v1.0.5-CruiseControl.apk` 安装到您的 Android 设备上。

### B. 运行 Bridge Server (PC 端)

1. 双击运行 `Maestro-Bridge.exe`。
2. 窗口会显示您的电脑 IP 地址（例如：`192.168.1.10`）。**请记下这个地址**。
3. 窗口会列出可用的 MIDI 端口。根据提示输入数字来选择输出端口（建议选择 `loopMIDI` 虚拟端口）。

### C. 连接与播放 (手机端)

1. 启动 Maestro 应用。
2. 点击界面上的 **"WiFi 连接"** 图标或设置按钮。
3. 在弹出的输入框中填入刚才记下的 **PC IP 地址**。
4. 点击“连接”。连接成功后，状态会变为“已连接”。
5. 现在您可以选择乐谱并开始播放（或进入指挥模式）。

---

## 2. 功能说明

### 指挥模式 (Conducting Mode)

- 默认开启。
- 手机的重力/加速度传感器将驱动音乐进度。
- **挥动手机**：模拟指挥动作，控制播放节奏。
- **定速巡航 (v1.0.5 Fix)**：即使停止挥动手机，只要未手动暂停，音乐将按照当前 BPM 继续播放，不再因物理惯性衰减而自动停止。

### 蓝牙钢琴连接

- 如果您持有蓝牙 MIDI 钢琴，可以点击蓝色钢琴图标进行搜索与配对。

---

## 3. 常见问题 (Troubleshooting)

- **无法连接到服务器？**
  - 检查手机和电脑是否在同一网段。
  - 检查电脑防火墙是否允许 `Maestro-Bridge.exe` 的网络访问（端口默认为 8080）。
- **没有声音？**
  - 确保 Bridge Server 选择了正确的虚拟 MIDI 端口。
  - 确保您的渲染软件（如 Max/MSP 或 VST 宿主）已打开并选择了相同的 MIDI 输入端口。

---

## 4. 版本历史 (Changelog)

- **v1.0.5**: 修复定速巡航模式，停止指挥后保持当前速度播放。
- **v1.0.4**: 优化指挥交互逻辑。
